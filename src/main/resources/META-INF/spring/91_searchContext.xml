<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<beans xmlns="http://www.springframework.org/schema/beans" xmlns:context="http://www.springframework.org/schema/context" 
	xmlns:util="http://www.springframework.org/schema/util" 
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://www.springframework.org/schema/beans 
		http://www.springframework.org/schema/beans/spring-beans.xsd 
		http://www.springframework.org/schema/context 
		http://www.springframework.org/schema/context/spring-context.xsd 
		http://www.springframework.org/schema/util 
		http://www.springframework.org/schema/util/spring-util.xsd">
	<context:property-placeholder properties-ref="properties"/>
	<context:annotation-config/>
	<context:mbean-export/>

	<bean class="net.yeeyaa.perception.search.Search" id="search">
		<constructor-arg ref="log"/>
		<property name="source" value="${framework.perception.search.source:#{null}}"/>
		<property name="properties">
		    <map>
				<entry key="log" value-ref="log"/>
				<entry key="serverid" value="${framework.perception.search.serverid:#{null}}"/>
				<entry key="url" value="${framework.perception.search.url:#{null}}"/>
				<entry key="holder">
					<bean class="net.yeeyaa.eight.core.processor.UniversalProxy">
						<property name="invoker">
							<bean class="net.yeeyaa.eight.osgi.runtime.ProxyBean">
								<property name="invoker" ref="invoker"/>
								<property name="name" value="${framework.perception.search.holder:holder}"/>
							</bean> 		
						</property>
					</bean>
				</entry>											
            </map>	
		</property>
	</bean>
</beans>
